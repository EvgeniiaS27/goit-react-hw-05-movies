{"version":3,"file":"static/js/585.6904810a.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Container/Container.module.css?9f71","components/Container/Container.jsx","webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/components/Title/Title.module.css?a947","components/Title/Title.jsx","webpack://goit-react-hw-05-movies/./src/components/SearchBar/Searchbar.module.css?defa","components/SearchBar/SearchBar.jsx","pages/Movies/Movies.jsx","services/getMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Container_container__VVOCq\"};","import css from './Container.module.css';\n\nexport const Container = ({ children }) => {\n  return <div className={css.container}>{children}</div>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"itemLink\":\"MoviesList_itemLink__6tK9W\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nexport const MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <ul className={css.list}>\n      {movies.map(({ title, id }) => {\n        return (\n          <li key={id} className={css.item}>\n            <Link\n              className={css.itemLink}\n              to={`/movies/${id}`}\n              state={{ from: location }}\n            >\n              {title}\n            </Link>\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Title_title__mrNq5\"};","import css from './Title.module.css';\n\nexport const Title = ({ children }) => {\n  return <h1 className={css.title}>{children}</h1>;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__iqMd-\",\"input\":\"Searchbar_input__GkLZE\",\"button\":\"Searchbar_button__qeTk-\"};","import { useState } from 'react';\nimport css from './Searchbar.module.css';\n\nexport const SearchBar = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChangeInput = e => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmitForm = e => {\n    e.preventDefault();\n    if (query.trim() === '') {\n      alert('Введите запрос в поле поиска');\n    }\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmitForm}>\n      <input\n        className={css.input}\n        type=\"text\"\n        value={query}\n        onChange={handleChangeInput}\n        placeholder=\"Search movies\"\n      />\n\n      <button className={css.button} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { getSearchMovies } from 'services/getMovies';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { Loader } from 'components/Loader/Loader';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { Container } from 'components/Container/Container';\nimport { Title } from 'components/Title/Title';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [moveis, setMovies] = useState([]);\n\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n\n    setLoading(true);\n    getSearchMovies(query)\n      .then(res => {\n        if (res.status !== 200) {\n          return Promise.reject(new Error(`Oops, something went wrong...`));\n        } else return res.json();\n      })\n      .then(data => {\n        if (data.length !== 0) {\n          return setMovies(data.results);\n        } else\n          return Promise.reject(\n            new Error(`Oops, something went wrong... Please try again`)\n          );\n      })\n      .catch(error => setError(error))\n      .finally(() => setLoading(false));\n  }, [query]);\n\n  const handleSearchQuery = query => {\n    setSearchParams({ query });\n  };\n\n  return (\n    <main>\n      <Container>\n        <Title>Search Movies </Title>\n\n        {error && <h1>{error.message}</h1>}\n        {loading && <Loader />}\n        {<SearchBar onSubmit={handleSearchQuery} />}\n        {<MoviesList movies={moveis} />}\n      </Container>\n    </main>\n  );\n};\nexport default Movies;\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'f8a6c1c08257b05a7c4692b093cbf34e';\n\nexport const getTrendingMovies = () => {\n  return fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n};\n\nexport const getMovieDetailes = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\n};\n\nexport const getMovieCast = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\n};\n\nexport const getMovieReviews = movieId => {\n  return fetch(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`);\n};\n\nexport const getSearchMovies = query => {\n  return fetch(`${BASE_URL}/search/movie?query=${query}&api_key=${API_KEY}`);\n};\n"],"names":["Container","children","className","css","MoviesList","movies","location","useLocation","map","title","id","to","state","from","Title","SearchBar","onSubmit","useState","query","setQuery","e","preventDefault","trim","alert","type","value","onChange","currentTarget","toLowerCase","placeholder","useSearchParams","searchParams","setSearchParams","loading","setLoading","error","setError","moveis","setMovies","get","useEffect","getSearchMovies","then","res","status","Promise","reject","Error","json","data","length","results","catch","finally","message","Loader","BASE_URL","API_KEY","getTrendingMovies","fetch","getMovieDetailes","movieId","getMovieCast","getMovieReviews"],"sourceRoot":""}